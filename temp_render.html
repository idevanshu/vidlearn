<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>p5.js Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ccapture.js@1.1.0/build/CCapture.all.min.js"></script>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
        width: 100%;
        height: 100%;
      }

      canvas {
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <script>
      const CANVAS_WIDTH = 800;
const CANVAS_HEIGHT = 600;
const FRAME_RATE = 60;
const SEGMENT_FRAMES = 180;
const TOTAL_SEGMENTS = 5;
const TOTAL_FRAMES = SEGMENT_FRAMES * TOTAL_SEGMENTS;

function easeInOutQuad(x) {
  return x < 0.5 ? 2 * x * x : -1 + (4 - 2 * x) * x;
}

function setup() {
  createCanvas(CANVAS_WIDTH, CANVAS_HEIGHT);
  frameRate(FRAME_RATE);
  textAlign(CENTER, CENTER);
  textFont('Arial');
  noStroke();
}

function draw() {
  background(0);
  let t = frameCount;
  if (t > TOTAL_FRAMES) {
    noLoop();
    return;
  }
  let segment = floor(t / SEGMENT_FRAMES);
  let local = (t % SEGMENT_FRAMES) / SEGMENT_FRAMES;
  let alpha;
  if (local < 0.25) {
    alpha = easeInOutQuad(local * 4) * 255;
  } else if (local > 0.75) {
    alpha = easeInOutQuad((1 - local) * 4) * 255;
  } else {
    alpha = 255;
  }
  fill(255, alpha);
  if (segment === 0) {
    textSize(48);
    text('Thermodynamics', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);
  } else if (segment === 1) {
    textSize(32);
    text('Zeroth Law: Thermal Equilibrium', CANVAS_WIDTH / 2, 100);
    let thermHeight = map(local, 0, 1, 0, 200);
    let x0 = CANVAS_WIDTH / 2 - 20;
    let y0 = CANVAS_HEIGHT / 2 + 100;
    fill(255, alpha * 0.5);
    rect(x0, y0 - 200, 40, 200);
    fill(255, alpha);
    rect(x0, y0 - thermHeight, 40, thermHeight);
  } else if (segment === 2) {
    textSize(32);
    text('First Law: ΔU = Q - W', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);
    let eqAlpha = alpha;
    fill(255, eqAlpha);
    textSize(48);
    text('ΔU = Q - W', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 + 60);
  } else if (segment === 3) {
    textSize(32);
    text('Second Law: Entropy ↑', CANVAS_WIDTH / 2, 100);
    for (let i = 0; i < 100; i++) {
      let angle = noise(i, local * 2) * TWO_PI;
      let radius = map(i, 0, 100, 20, 200) * local;
      let x = CANVAS_WIDTH / 2 + cos(angle) * radius;
      let y = CANVAS_HEIGHT / 2 + sin(angle) * radius;
      fill(200, 200, 255, alpha * 0.5);
      ellipse(x, y, 4);
    }
  } else if (segment === 4) {
    textSize(32);
    text('Third Law: Absolute Zero Unreachable', CANVAS_WIDTH / 2, 100);
    let size = map(1 - local, 0, 1, 10, 100);
    fill(255, alpha);
    ellipse(CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 + 100, size, size);
  }
}
    </script>
  </body>
</html>